name: Python Twitter Bot

on:
  workflow_dispatch:
  schedule:
    # # TSİ 10:00, 17:00 ve 22:00'de çalışır (UTC saatleri 7, 14 ve 19'a karşılık gelir)
    - cron: '0 7,14,19 * * *'
jobs:
  tweet:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Python Kurulumu
        uses: actions/setup-python@v5
        with:
          python-version: '3.11' # Kullandığınız Python sürümünü kontrol edin
      - name: Gerekli Kütüphaneleri Yükleme
        # Bu komut, requirements.txt dosyasındaki kütüphaneleri yükler (Eğer varsa)
        run: pip install -r requirements.txt 

      - name: Tweet Atma
        env:
          # PYHTON KODUNUZA UYGUN DEĞİŞKEN İSİMLERİ (CONSUMER_KEY VB.)
          CONSUMER_KEY: ${{ secrets.CONSUMER_KEY }}
          CONSUMER_SECRET: ${{ secrets.CONSUMER_SECRET }}
          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
          ACCESS_TOKEN_SECRET: ${{ secrets.ACCESS_TOKEN_SECRET }}
          
          # YER TUTUCULAR
          TARGET_USERNAME: ${{ secrets.TARGET_USERNAME }} 
          QUOTE_TEXT: ${{ secrets.QUOTE_TEXT }}           
          
        # Sizin ana bot dosyanızın adı neyse buraya onu yazın (Örn: python bot.py)
        run: python final_bot.py
        # ... (Bu kısım, botun tweet atma ve indexi artırma kodunun çalıştığı kısımdır)
    - name: Commit and Push Index File
      run: |
        git config user.name github-actions
        git config user.email github-actions@github.com
        git add index.txt 
        git commit -m "Auto-increment index after tweet" || exit 0
        git push
